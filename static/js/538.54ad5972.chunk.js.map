{"version":3,"file":"static/js/538.54ad5972.chunk.js","mappings":"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","sources":["webpack://react-burger/./src/components/auth/auth-actions/auth-actions.module.css?4a96","components/auth/auth-actions/auth-actions.tsx","webpack://react-burger/./src/components/auth/auth-form/auth-form.module.css?b098","components/auth/auth-form/auth-form.tsx","components/button/button.tsx","components/button/types.ts","pages/login-page/login-page.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"authActions\":\"auth-actions_authActions__G+3LS\",\"authAction\":\"auth-actions_authAction__6e1pB\",\"resetPadding\":\"auth-actions_resetPadding__lgxBR\"};","import { FC } from 'react'\n\nimport { Button } from '@/components/button/button'\nimport {\n  HtmlTypeButton,\n  SizeButton,\n  TypeButton,\n} from '@/components/button/types'\n\nimport styles from './auth-actions.module.css'\n\ntype AuthAction = {\n  text: string\n  action: {\n    text: string\n    onClick: () => void\n  }\n}\n\ninterface AuthActionsProps {\n  actions: AuthAction[]\n}\n\nconst AuthActions: FC<AuthActionsProps> = ({ actions }) => (\n  <section className={styles.authActions}>\n    {actions.map(({ text, action }, index) => (\n      <span className={styles.authAction} key={index}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {text}\n        </p>\n\n        <Button\n          htmlType={HtmlTypeButton.BUTTON}\n          type={TypeButton.SECONDARY}\n          size={SizeButton.MEDIUM}\n          extraClass={styles.resetPadding}\n          onClick={action.onClick}\n        >\n          {action.text}\n        </Button>\n      </span>\n    ))}\n  </section>\n)\n\nexport default AuthActions\n","// extracted by mini-css-extract-plugin\nexport default {\"authForm\":\"auth-form_authForm__gq-Cw\",\"actions\":\"auth-form_actions__Zsucr\"};","import { FC, FormEvent, ReactNode } from 'react'\n\nimport classNames from 'classnames'\n\nimport { Button } from '@/components/button/button'\nimport { HtmlTypeButton, TypeButton } from '@/components/button/types'\n\nimport styles from './auth-form.module.css'\n\ninterface AuthFormProps {\n  children: ReactNode\n  title?: string\n  onSubmit: () => void\n  onCancel?: () => void\n  submitText?: string\n  cancelText?: string\n  displayActions?: boolean\n  isLoading?: boolean\n}\n\nconst AuthForm: FC<AuthFormProps> = ({\n  children,\n  title,\n  onSubmit,\n  submitText,\n  onCancel,\n  cancelText,\n  displayActions = true,\n  isLoading = false,\n}) => {\n  const handleSubmit = (e: FormEvent): void => {\n    e.preventDefault()\n\n    onSubmit()\n  }\n\n  const handleCancel = (): void => {\n    onCancel && onCancel()\n  }\n\n  return (\n    <form\n      className={classNames(styles.authForm, 'mb-20')}\n      onSubmit={handleSubmit}\n      method=\"POST\"\n      noValidate\n    >\n      {title && <p className=\"text text_type_main-medium mb-6\">{title}</p>}\n      {children}\n\n      {displayActions && (\n        <div className={styles.actions}>\n          {cancelText && (\n            <Button\n              htmlType={HtmlTypeButton.BUTTON}\n              type={TypeButton.SECONDARY}\n              onClick={handleCancel}\n            >\n              {cancelText}\n            </Button>\n          )}\n\n          <Button htmlType={HtmlTypeButton.SUBMIT} disabled={isLoading}>\n            {submitText}\n          </Button>\n        </div>\n      )}\n    </form>\n  )\n}\n\nexport default AuthForm\n","import React, { FC, HTMLProps, ReactNode } from 'react'\n\nimport {\n  HtmlTypeButton,\n  SizeButton,\n  TypeButton,\n} from '@/components/button/types'\n\nimport { Button as YaButton } from '@ya.praktikum/react-developer-burger-ui-components'\n\ninterface ButtonProps\n  extends Omit<HTMLProps<HTMLButtonElement>, 'type' | 'size'> {\n  children: ReactNode\n  type?: TypeButton\n  htmlType?: HtmlTypeButton\n  size?: SizeButton\n  extraClass?: string\n  onClick?: () => void\n}\n\nexport const Button: FC<ButtonProps> = props => {\n  const {\n    children,\n    htmlType = HtmlTypeButton.BUTTON,\n    type = TypeButton.PRIMARY,\n    size = SizeButton.MEDIUM,\n    extraClass,\n    onClick,\n    ...otherProps\n  } = props\n\n  return (\n    <YaButton\n      htmlType={htmlType}\n      type={type}\n      size={size}\n      extraClass={extraClass}\n      onClick={onClick}\n      {...otherProps}\n    >\n      {children}\n    </YaButton>\n  )\n}\n","export enum TypeButton {\n  SECONDARY = 'secondary',\n  PRIMARY = 'primary',\n}\n\nexport enum HtmlTypeButton {\n  BUTTON = 'button',\n  SUBMIT = 'submit',\n  RESET = 'reset',\n}\n\nexport enum SizeButton {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  LARGE = 'large',\n}\n","import { ChangeEvent, FC, Fragment, useEffect, useState } from 'react'\n\nimport { useNavigate } from 'react-router-dom'\n\nimport { useAppDispatch, useAppSelector } from '@/components/app/store/store'\nimport AuthActions from '@/components/auth/auth-actions/auth-actions'\nimport AuthForm from '@/components/auth/auth-form/auth-form'\n\nimport { login } from '@/services/auth/login'\nimport {\n  getAuthError,\n  getAuthLoading,\n  getIsAuthenticated,\n} from '@/services/auth/selectors'\n\nimport { forgotPasswordPath, registerPath } from '@/utils/route-paths'\n\nimport {\n  EmailInput,\n  PasswordInput,\n} from '@ya.praktikum/react-developer-burger-ui-components'\n\nconst LoginPage: FC = () => {\n  const navigate = useNavigate()\n  const isAuthenticated = useAppSelector(getIsAuthenticated)\n  const isLoading = useAppSelector(getAuthLoading)\n  const hasError = useAppSelector(getAuthError)\n  const dispatch = useAppDispatch()\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    if (hasError) {\n      setError(true)\n    }\n  }, [hasError])\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const clearForm = (): void => {\n    if (isAuthenticated) {\n      setEmail('')\n      setPassword('')\n      setError(false)\n    }\n  }\n\n  const onSubmit = async (): Promise<void> => {\n    await dispatch(login({ email, password }))\n      .unwrap()\n      .catch(() => setError(true))\n    clearForm()\n  }\n\n  const toRegistration = (): void => {\n    navigate(registerPath)\n  }\n\n  const toForgotPassword = (): void => {\n    navigate(forgotPasswordPath)\n  }\n\n  const emailChangeHandler = (e: ChangeEvent<HTMLInputElement>): void => {\n    setEmail(e.target.value)\n    setError(false)\n  }\n\n  const passwordChangeHandler = (e: ChangeEvent<HTMLInputElement>): void => {\n    setPassword(e.target.value)\n    setError(false)\n  }\n\n  return (\n    <Fragment>\n      {error && (\n        <p className=\"text text_type_main-small mb-4\" style={{ color: 'red' }}>\n          Неправильный логин или пароль\n        </p>\n      )}\n\n      <AuthForm\n        title=\"Вход\"\n        onSubmit={onSubmit}\n        submitText=\"Войти\"\n        isLoading={isLoading || error}\n      >\n        <EmailInput\n          onChange={emailChangeHandler}\n          value={email}\n          name=\"email\"\n          isIcon={false}\n          extraClass=\"mb-6\"\n        />\n\n        <PasswordInput\n          onChange={passwordChangeHandler}\n          value={password}\n          name=\"password\"\n          extraClass=\"mb-6\"\n        />\n      </AuthForm>\n\n      <AuthActions\n        actions={[\n          {\n            text: 'Вы — новый пользователь?',\n            action: {\n              text: 'Зарегистрироваться',\n              onClick: toRegistration,\n            },\n          },\n          {\n            text: 'Забыли пароль?',\n            action: {\n              text: 'Восстановить пароль',\n              onClick: toForgotPassword,\n            },\n          },\n        ]}\n      />\n    </Fragment>\n  )\n}\n\nexport default LoginPage\n"],"names":["_ref","actions","_jsx","className","styles","children","map","_ref2","index","text","action","_jsxs","Button","htmlType","HtmlTypeButton","BUTTON","type","TypeButton","SECONDARY","size","SizeButton","MEDIUM","extraClass","onClick","title","onSubmit","submitText","onCancel","cancelText","displayActions","isLoading","classNames","e","preventDefault","method","noValidate","handleCancel","SUBMIT","disabled","props","PRIMARY","otherProps","YaButton","LoginPage","navigate","useNavigate","isAuthenticated","useAppSelector","getIsAuthenticated","getAuthLoading","hasError","getAuthError","dispatch","useAppDispatch","error","setError","useState","useEffect","email","setEmail","password","setPassword","Fragment","style","color","AuthForm","async","login","unwrap","catch","EmailInput","onChange","target","value","name","isIcon","PasswordInput","AuthActions","toRegistration","registerPath","toForgotPassword","forgotPasswordPath"],"sourceRoot":""}