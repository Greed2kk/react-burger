"use strict";(self.webpackChunkreact_burger=self.webpackChunkreact_burger||[]).push([[461],{2852:(e,t,s)=>{s.d(t,{F:()=>k});var r=s(5043),n=s(8139),a=s.n(n),i=s(3216),d=s(3473),c=s(3734),l=s(2339),m=s(5909),_=s(7120);const x="feed-ingredient_feedIngredient__fsyB6",o="feed-ingredient_image__zAUSF",u="feed-ingredient_remain__dfP63",h="feed-ingredient_count__hVBUs";var p=s(579);const g=e=>{let{ingredient:t,remain:s}=e;const{image:r,name:n}=t;return(0,p.jsx)("div",{className:x,children:s?(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{className:o,src:r,alt:n}),(0,p.jsx)("span",{className:a()(h,"text text_type_main-default"),children:`+${s}`})]}):(0,p.jsx)("img",{className:o,src:r,alt:n})})},j="feed-ingredients_feedIngredients__7vF7h",f=e=>{let{ingredients:t}=e;const s=t.length-6;return(0,p.jsx)("div",{className:j,children:t.map(((e,r)=>t.length>=6?5===r?(0,p.jsx)(g,{ingredient:e,remain:s},r):r>=6?null:(0,p.jsx)(g,{ingredient:e},r):(0,p.jsx)(g,{ingredient:e},r)))})};var N=s(6064);const y="feed-item_feedItem__yuQs+",v="feed-item_itemSection__ZMozu",b="feed-item_orderDate__NmAQU",D="feed-item_orderPrice__wzttU",w=e=>{let{order:t,profile:s}=e;const{name:n,ingredients:x,number:o,createdAt:u,status:h}=t,g=(0,i.zy)(),j=(0,i.Zp)(),w=(0,d.jL)(),A=(0,d.GV)((0,c.W9)(x)),k=(0,r.useMemo)((()=>(0,m.Q)(A)),[A]);return(0,p.jsxs)("div",{className:a()(y,"p-6"),onClick:()=>{const e=window.getSelection();e&&e.toString().length>0||(w((0,l.QK)({number:o,name:n,ingredients:x,status:h,createdAt:u})),j(s?`${_.y4}/${o}`:`${_.y3}/${o}`,{state:{backgroundLocation:g}}))},children:[(0,p.jsxs)("section",{className:a()(v,"mb-6"),children:[(0,p.jsx)("span",{className:"text text_type_digits-default",children:`#${o}`}),(0,p.jsx)("span",{className:a()(b,"text text_type_main-default text_color_inactive"),children:(0,p.jsx)(N.XU,{date:new Date(u)})})]}),(0,p.jsx)("span",{className:"text text_type_main-medium",children:n}),(0,p.jsxs)("section",{className:a()(v,"mt-6"),children:[(0,p.jsx)(f,{ingredients:A}),(0,p.jsxs)("span",{className:a()(D),children:[(0,p.jsx)("p",{className:"text text_type_digits-default",children:k}),(0,p.jsx)(N.px,{type:"primary"})]})]})]})},A="feed-items_feedItems__fF8iT",k=e=>{let{ordersData:t,profile:s}=e;const{orders:r=[]}=t||{};return r.length?(0,p.jsx)("div",{className:A,children:r.map((e=>e.ingredients?(0,p.jsx)(w,{order:e,profile:s},e._id):null))}):(0,p.jsx)("h1",{children:"\u0417\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442"})}},5461:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=s(5043),n=s(8139),a=s.n(n),i=s(3473),d=s(893),c=s(2852);const l="order-statuses_orderStatuses__tgWUb",m="order-statuses_orderProgress__XmaCp",_="order-statuses_orderList__qNNkv",x="order-statuses_orderDone__DnXpc";var o=s(579);const u=e=>{let{ordersData:t}=e;const{total:s,totalToday:n,orders:i=[]}=t||{},d=(0,r.useMemo)((()=>[...i].sort(((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())).filter((e=>{let{status:t}=e;return"done"===t})).map((e=>{let{number:t}=e;return t})).slice(0,10)),[i]),c=(0,r.useMemo)((()=>[...i].sort(((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())).filter((e=>{let{status:t}=e;return"created"===t||"pending"===t})).map((e=>{let{number:t}=e;return t})).slice(0,14)),[i]);return(0,o.jsxs)("div",{className:l,children:[(0,o.jsxs)("section",{className:m,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),(0,o.jsx)("ul",{className:_,children:d&&d.map((e=>(0,o.jsx)("li",{className:a()(x,"text text_type_digits-default"),children:e},e)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),(0,o.jsx)("ul",{className:_,children:c&&c.map((e=>(0,o.jsx)("li",{className:"text text_type_digits-default",children:e},e)))})]})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),(0,o.jsx)("p",{className:"text text_type_digits-large",children:s})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),(0,o.jsx)("p",{className:"text text_type_digits-large",children:n})]})]})};var h=s(3933),p=s(1841),g=s(3734),j=s(6861),f=s(7120);const N="feed-page_feedPage__+tpGN",y=()=>{const e=(0,i.jL)(),t=(0,i.GV)((e=>e.feedOrders.feed));(0,r.useEffect)((()=>(e(h.y.connect(f.fb)),()=>{e(h.y.disconnect())})),[e]);const s=(0,i.GV)(g.Zy);return(0,r.useEffect)((()=>{s[j.I.MAIN].length||e((0,p.L)())}),[e,s]),t.success?t.orders.length?(0,o.jsxs)(d.H,{className:"pl-5 pr-5",children:[(0,o.jsx)("h1",{className:"text text_type_main-large mb-5 mt-10",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),(0,o.jsxs)(d.H,{className:a()(N),children:[(0,o.jsx)(c.F,{ordersData:t}),(0,o.jsx)(u,{ordersData:t})]})]}):(0,o.jsx)("h1",{children:"\u0417\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442"}):(0,o.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})}}}]);
//# sourceMappingURL=461.300f4696.chunk.js.map