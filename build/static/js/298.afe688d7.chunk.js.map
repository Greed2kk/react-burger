{"version":3,"file":"static/js/298.afe688d7.chunk.js","mappings":"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","sources":["webpack://react-burger/./src/components/auth/auth-actions/auth-actions.module.css?4a96","components/auth/auth-actions/auth-actions.tsx","webpack://react-burger/./src/components/auth/auth-form/auth-form.module.css?b098","components/auth/auth-form/auth-form.tsx","components/button/button.tsx","components/button/types.ts","pages/reset-password-page/reset-password-page.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"authActions\":\"auth-actions_authActions__G+3LS\",\"authAction\":\"auth-actions_authAction__6e1pB\",\"resetPadding\":\"auth-actions_resetPadding__lgxBR\"};","import { FC } from 'react'\n\nimport { Button } from '@/components/button/button'\nimport {\n  HtmlTypeButton,\n  SizeButton,\n  TypeButton,\n} from '@/components/button/types'\n\nimport styles from './auth-actions.module.css'\n\ntype AuthAction = {\n  text: string\n  action: {\n    text: string\n    onClick: () => void\n  }\n}\n\ninterface AuthActionsProps {\n  actions: AuthAction[]\n}\n\nconst AuthActions: FC<AuthActionsProps> = ({ actions }) => (\n  <section className={styles.authActions}>\n    {actions.map(({ text, action }, index) => (\n      <span className={styles.authAction} key={index}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {text}\n        </p>\n\n        <Button\n          htmlType={HtmlTypeButton.BUTTON}\n          type={TypeButton.SECONDARY}\n          size={SizeButton.MEDIUM}\n          extraClass={styles.resetPadding}\n          onClick={action.onClick}\n        >\n          {action.text}\n        </Button>\n      </span>\n    ))}\n  </section>\n)\n\nexport default AuthActions\n","// extracted by mini-css-extract-plugin\nexport default {\"authForm\":\"auth-form_authForm__gq-Cw\",\"actions\":\"auth-form_actions__Zsucr\"};","import { FC, FormEvent, ReactNode } from 'react'\n\nimport classNames from 'classnames'\n\nimport { Button } from '@/components/button/button'\nimport { HtmlTypeButton, TypeButton } from '@/components/button/types'\n\nimport styles from './auth-form.module.css'\n\ninterface AuthFormProps {\n  children: ReactNode\n  title?: string\n  onSubmit: () => void\n  onCancel?: () => void\n  submitText?: string\n  cancelText?: string\n  displayActions?: boolean\n  isLoading?: boolean\n}\n\nconst AuthForm: FC<AuthFormProps> = ({\n  children,\n  title,\n  onSubmit,\n  submitText,\n  onCancel,\n  cancelText,\n  displayActions = true,\n  isLoading = false,\n}) => {\n  const handleSubmit = (e: FormEvent): void => {\n    e.preventDefault()\n\n    onSubmit()\n  }\n\n  const handleCancel = (): void => {\n    onCancel && onCancel()\n  }\n\n  return (\n    <form\n      className={classNames(styles.authForm, 'mb-20')}\n      onSubmit={handleSubmit}\n      method=\"POST\"\n      noValidate\n    >\n      {title && <p className=\"text text_type_main-medium mb-6\">{title}</p>}\n      {children}\n\n      {displayActions && (\n        <div className={styles.actions}>\n          {cancelText && (\n            <Button\n              htmlType={HtmlTypeButton.BUTTON}\n              type={TypeButton.SECONDARY}\n              onClick={handleCancel}\n            >\n              {cancelText}\n            </Button>\n          )}\n\n          <Button htmlType={HtmlTypeButton.SUBMIT} disabled={isLoading}>\n            {submitText}\n          </Button>\n        </div>\n      )}\n    </form>\n  )\n}\n\nexport default AuthForm\n","import React, { FC, HTMLProps, ReactNode } from 'react'\n\nimport {\n  HtmlTypeButton,\n  SizeButton,\n  TypeButton,\n} from '@/components/button/types'\n\nimport { Button as YaButton } from '@ya.praktikum/react-developer-burger-ui-components'\n\ninterface ButtonProps\n  extends Omit<HTMLProps<HTMLButtonElement>, 'type' | 'size'> {\n  children: ReactNode\n  type?: TypeButton\n  htmlType?: HtmlTypeButton\n  size?: SizeButton\n  extraClass?: string\n  onClick?: () => void\n}\n\nexport const Button: FC<ButtonProps> = props => {\n  const {\n    children,\n    htmlType = HtmlTypeButton.BUTTON,\n    type = TypeButton.PRIMARY,\n    size = SizeButton.MEDIUM,\n    extraClass,\n    onClick,\n    ...otherProps\n  } = props\n\n  return (\n    <YaButton\n      htmlType={htmlType}\n      type={type}\n      size={size}\n      extraClass={extraClass}\n      onClick={onClick}\n      {...otherProps}\n    >\n      {children}\n    </YaButton>\n  )\n}\n","export enum TypeButton {\n  SECONDARY = 'secondary',\n  PRIMARY = 'primary',\n}\n\nexport enum HtmlTypeButton {\n  BUTTON = 'button',\n  SUBMIT = 'submit',\n  RESET = 'reset',\n}\n\nexport enum SizeButton {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  LARGE = 'large',\n}\n","import { ChangeEvent, FC, Fragment, useEffect, useState } from 'react'\n\nimport { useNavigate, useParams } from 'react-router-dom'\n\nimport { useAppSelector } from '@/components/app/store/store'\nimport AuthActions from '@/components/auth/auth-actions/auth-actions'\nimport AuthForm from '@/components/auth/auth-form/auth-form'\n\nimport { getResetPasswordEmail } from '@/services/auth/selectors'\n\nimport { resetPasswordEmail, resetPasswordPath } from '@/utils/api/constants'\nimport { api } from '@/utils/api/request'\nimport { loginPath } from '@/utils/route-paths'\n\nimport {\n  Input,\n  PasswordInput,\n} from '@ya.praktikum/react-developer-burger-ui-components'\n\nconst ResetPasswordPage: FC = () => {\n  const navigate = useNavigate()\n  const { token } = useParams()\n\n  const [password, setPassword] = useState('')\n  const [resetToken, setResetToken] = useState(token || '')\n  const [validError, setValidError] = useState(false)\n  const [error, setError] = useState(false)\n\n  const resetEmail = useAppSelector(getResetPasswordEmail)\n\n  useEffect(() => {\n    if (!resetEmail) {\n      navigate(loginPath)\n    }\n  }, [navigate, resetEmail])\n\n  const onSubmit = (): void => {\n    if (password && token && !validError) {\n      api\n        .post(resetPasswordPath, { password, token })\n        .then(() => {\n          localStorage.removeItem(resetPasswordEmail)\n          navigate(loginPath)\n        })\n        .catch(() => {\n          setError(true)\n        })\n    }\n  }\n\n  const toLogin = (): void => {\n    navigate(loginPath)\n  }\n\n  const onChangePassword = (e: ChangeEvent<HTMLInputElement>): void => {\n    setPassword(e.target.value)\n    setValidError(false)\n    setError(false)\n  }\n\n  const onChangeToken = (e: ChangeEvent<HTMLInputElement>): void => {\n    setResetToken(e.target.value)\n    setError(false)\n  }\n\n  const validationHandler = (isValid: boolean): void => {\n    setValidError(!isValid)\n  }\n\n  return (\n    <Fragment>\n      <AuthForm\n        title=\"Восстановление пароля\"\n        onSubmit={onSubmit}\n        submitText=\"Сохранить\"\n        isLoading={!resetToken || !password || validError || error}\n      >\n        <PasswordInput\n          onChange={onChangePassword}\n          value={password}\n          placeholder=\"Введите новый пароль\"\n          name=\"password\"\n          extraClass=\"mb-6\"\n          errorText=\"Некорректный пароль\"\n          checkValid={validationHandler}\n        />\n\n        {/* @ts-expect-error: onPointerEnterCapture, onPointerLeaveCapture warnings otherwise */}\n        <Input\n          type={'text'}\n          placeholder={'Введите код из письма'}\n          onChange={onChangeToken}\n          value={resetToken}\n          name={'emailCode'}\n          size={'default'}\n          extraClass=\"mb-6\"\n          errorText=\"Некорректный токен\"\n          error={error}\n        />\n      </AuthForm>\n\n      <AuthActions\n        actions={[\n          {\n            text: 'Вспомнили пароль?',\n            action: {\n              text: 'Войти',\n              onClick: toLogin,\n            },\n          },\n        ]}\n      />\n    </Fragment>\n  )\n}\n\nexport default ResetPasswordPage\n"],"names":["_ref","actions","_jsx","className","styles","children","map","_ref2","index","text","action","_jsxs","Button","htmlType","HtmlTypeButton","BUTTON","type","TypeButton","SECONDARY","size","SizeButton","MEDIUM","extraClass","onClick","title","onSubmit","submitText","onCancel","cancelText","displayActions","isLoading","classNames","e","preventDefault","method","noValidate","handleCancel","SUBMIT","disabled","props","PRIMARY","otherProps","YaButton","ResetPasswordPage","navigate","useNavigate","token","useParams","password","setPassword","useState","resetToken","setResetToken","validError","setValidError","error","setError","resetEmail","useAppSelector","getResetPasswordEmail","useEffect","loginPath","Fragment","AuthForm","api","post","resetPasswordPath","then","localStorage","removeItem","resetPasswordEmail","catch","PasswordInput","onChange","target","value","placeholder","name","errorText","checkValid","isValid","Input","AuthActions","toLogin"],"sourceRoot":""}